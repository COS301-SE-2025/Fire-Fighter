import{A as I,B as R,D as T,G,H as N,L as A,M as x,N as V,O as q,P as D,Q as j,R as H,S as L,U as z,Z as B,_ as W,f as C,g as F,ga as O,h as s,i as b,j as k,k as c,l as m,n as r,o as i,p as h,t as P,u as v,v as o,w as E,x as y}from"./chunk-24SIP4RH.js";import"./chunk-GRBQSE5U.js";import"./chunk-X5HHX3WJ.js";import"./chunk-VSUN23TH.js";import"./chunk-LLNTKFAN.js";import"./chunk-J7FQET6M.js";import"./chunk-CYCGFNXD.js";import"./chunk-R7ZYQ4ZY.js";import"./chunk-4U6PRYVA.js";import"./chunk-54NTICX4.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{g as S}from"./chunk-OLRFWS6T.js";var M=t=>({"outline-red-500":t});function Z(t,a){t&1&&(r(0,"small"),o(1," Email is required. "),i())}function U(t,a){t&1&&(r(0,"small"),o(1," Enter a valid email. "),i())}function J(t,a){if(t&1&&(r(0,"div",28),c(1,Z,2,0,"small",29)(2,U,2,0,"small",29),i()),t&2){let d,e,n=v();s(),m("ngIf",(d=n.registerForm.get("email"))==null||d.errors==null?null:d.errors.required),s(),m("ngIf",(e=n.registerForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function K(t,a){t&1&&(r(0,"small"),o(1," Password is required. "),i())}function Q(t,a){t&1&&(r(0,"small"),o(1," Minimum 6 characters. "),i())}function X(t,a){if(t&1&&(r(0,"div",28),c(1,K,2,0,"small",29)(2,Q,2,0,"small",29),i()),t&2){let d,e,n=v();s(),m("ngIf",(d=n.registerForm.get("password"))==null||d.errors==null?null:d.errors.required),s(),m("ngIf",(e=n.registerForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}function Y(t,a){t&1&&(r(0,"small"),o(1," Please confirm your password. "),i())}function $(t,a){t&1&&(r(0,"small"),o(1," Passwords don't match. "),i())}function ee(t,a){if(t&1&&(r(0,"div",28),c(1,Y,2,0,"small",29)(2,$,2,0,"small",29),i()),t&2){let d,e,n=v();s(),m("ngIf",(d=n.registerForm.get("confirmPassword"))==null||d.errors==null?null:d.errors.required),s(),m("ngIf",(e=n.registerForm.get("confirmPassword"))==null||e.errors==null?null:e.errors.passwordMismatch)}}function te(t,a){if(t&1&&(r(0,"div",30),o(1),i()),t&2){let d=v();s(),E(" ",d.errorMsg," ")}}var ce=(()=>{let a=class a{constructor(e,n,l){this.fb=e,this.auth=n,this.router=l,this.isSubmitting=!1,this.errorMsg=null}ngOnInit(){this.registerForm=this.fb.group({email:["",[x.required,x.email]],password:["",[x.required,x.minLength(6)]],confirmPassword:["",[x.required]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(e){var u,g,p,f;let n=(u=e.get("password"))==null?void 0:u.value,l=(g=e.get("confirmPassword"))==null?void 0:g.value;return n!==l?(p=e.get("confirmPassword"))==null||p.setErrors({passwordMismatch:!0}):(f=e.get("confirmPassword"))==null||f.setErrors(null),null}onSubmit(){return S(this,null,function*(){if(this.registerForm.valid)try{this.isSubmitting=!0,this.errorMsg=null;let{email:e,password:n}=this.registerForm.value,l=yield this.auth.createUserWithEmail(e,n);console.log("Account created for",l.email),this.auth.navigateToDashboard()}catch(e){console.error("Registration failed",e),e.code==="auth/email-already-in-use"?this.errorMsg="Email is already in use.":e.code==="auth/weak-password"?this.errorMsg="Password is too weak.":this.errorMsg="Registration failed. Please try again."}finally{this.isSubmitting=!1}})}registerWithGoogle(){return S(this,null,function*(){try{this.errorMsg=null;let e=yield this.auth.signInWithGoogle();console.log("Registered as",e.displayName),this.auth.navigateToDashboard()}catch(e){console.error("Google registration failed",e),this.errorMsg="Google registration failed. Please try again."}})}};a.\u0275fac=function(n){return new(n||a)(b(L),b(O),b(G))},a.\u0275cmp=k({type:a,selectors:[["app-register"]],decls:45,vars:16,consts:[[1,"bg-darkblue"],[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"text-center","text-3xl","font-bold","text-matisse-500","tracking-wider"],["data-slot","icon","fill","none","stroke-width","1.5","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"mx-auto","h-16","w-16","text-matisse-400","mt-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"],[1,"mt-6","text-center","text-2xl/9","font-bold","tracking-tight","text-white"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm/6","font-medium","text-white"],[1,"mt-2"],["type","email","id","email","formControlName","email","autocomplete","email","placeholder","you@example.com",1,"block","w-full","rounded-md","bg-matisse-950","border-matisse-900","px-3","py-1.5","text-base","text-white","outline-1","-outline-offset-1","outline-matisse-800","placeholder:text-matisse-500","focus:outline-2","focus:-outline-offset-2","focus:outline-matisse-600","sm:text-sm/6",3,"ngClass"],["class","mt-1 text-sm text-red-400",4,"ngIf"],["for","password",1,"block","text-sm/6","font-medium","text-white"],["type","password","id","password","formControlName","password","autocomplete","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"block","w-full","rounded-md","bg-matisse-950","border-matisse-900","px-3","py-1.5","text-base","text-white","outline-1","-outline-offset-1","outline-matisse-800","placeholder:text-matisse-500","focus:outline-2","focus:-outline-offset-2","focus:outline-matisse-600","sm:text-sm/6",3,"ngClass"],["for","confirmPassword",1,"block","text-sm/6","font-medium","text-white"],["type","password","id","confirmPassword","formControlName","confirmPassword","autocomplete","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"block","w-full","rounded-md","bg-matisse-950","border-matisse-900","px-3","py-1.5","text-base","text-white","outline-1","-outline-offset-1","outline-matisse-800","placeholder:text-matisse-500","focus:outline-2","focus:-outline-offset-2","focus:outline-matisse-600","sm:text-sm/6",3,"ngClass"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-matisse-700","px-3","py-1.5","text-sm/6","font-semibold","text-white","shadow-xs","hover:bg-matisse-600","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-matisse-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["expand","block","fill","outline","color","light",1,"mt-4",2,"--color","white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"h-5","w-5","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["class","mt-4 text-sm text-center text-red-400",4,"ngIf"],[1,"mt-10","text-center","text-sm/6","text-matisse-500"],["routerLink","/login",1,"font-semibold","text-matisse-400","hover:text-matisse-300"],[1,"mt-1","text-sm","text-red-400"],[4,"ngIf"],[1,"mt-4","text-sm","text-center","text-red-400"]],template:function(n,l){if(n&1&&(r(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"FireFighter"),i(),C(),r(5,"svg",4),h(6,"path",5)(7,"path",6),i(),F(),r(8,"h2",7),o(9,"Create an account"),i()(),r(10,"div",8)(11,"form",9),P("ngSubmit",function(){return l.onSubmit()}),r(12,"div")(13,"label",10),o(14,"Email address"),i(),r(15,"div",11),h(16,"input",12),i(),c(17,J,3,2,"div",13),i(),r(18,"div")(19,"label",14),o(20,"Password"),i(),r(21,"div",11),h(22,"input",15),i(),c(23,X,3,2,"div",13),i(),r(24,"div")(25,"label",16),o(26,"Confirm Password"),i(),r(27,"div",11),h(28,"input",17),i(),c(29,ee,3,2,"div",13),i(),r(30,"div")(31,"button",18),o(32),i()(),r(33,"ion-button",19),P("click",function(){return l.registerWithGoogle()}),C(),r(34,"svg",20),h(35,"path",21)(36,"path",22)(37,"path",23)(38,"path",24),i(),o(39," Sign up with Google "),i(),c(40,te,2,1,"div",25),i(),F(),r(41,"p",26),o(42," Already have an account? "),r(43,"a",27),o(44,"Sign in"),i()()()()()),n&2){let u,g,p,f,w,_;s(11),m("formGroup",l.registerForm),s(5),m("ngClass",y(10,M,((u=l.registerForm.get("email"))==null?null:u.touched)&&((u=l.registerForm.get("email"))==null?null:u.invalid))),s(),m("ngIf",((g=l.registerForm.get("email"))==null?null:g.touched)&&((g=l.registerForm.get("email"))==null?null:g.invalid)),s(5),m("ngClass",y(12,M,((p=l.registerForm.get("password"))==null?null:p.touched)&&((p=l.registerForm.get("password"))==null?null:p.invalid))),s(),m("ngIf",((f=l.registerForm.get("password"))==null?null:f.touched)&&((f=l.registerForm.get("password"))==null?null:f.invalid)),s(5),m("ngClass",y(14,M,((w=l.registerForm.get("confirmPassword"))==null?null:w.touched)&&((w=l.registerForm.get("confirmPassword"))==null?null:w.invalid))),s(),m("ngIf",((_=l.registerForm.get("confirmPassword"))==null?null:_.touched)&&((_=l.registerForm.get("confirmPassword"))==null?null:_.invalid)),s(2),m("disabled",l.registerForm.invalid||l.isSubmitting),s(),E(" ",l.isSubmitting?"Creating Account...":"Create Account"," "),s(8),m("ngIf",l.errorMsg)}},dependencies:[T,I,R,z,D,A,V,q,j,H,W,B,N],styles:["ion-content[_ngcontent-%COMP%]{--background: #080a1c;height:100vh}"]});let t=a;return t})();export{ce as RegisterPage};
