import{A as M,B as I,D as k,G as L,H as P,L as T,M as p,N,O as G,P as j,Q as D,R as q,S as V,U as H,Z as A,_ as z,f as b,g as y,ga as B,h as a,i as v,j as E,k as c,l as m,n,o as e,p as g,t as S,u as _,v as o,w as C,x as F}from"./chunk-24SIP4RH.js";import"./chunk-GRBQSE5U.js";import"./chunk-X5HHX3WJ.js";import"./chunk-VSUN23TH.js";import"./chunk-LLNTKFAN.js";import"./chunk-J7FQET6M.js";import"./chunk-CYCGFNXD.js";import"./chunk-R7ZYQ4ZY.js";import"./chunk-4U6PRYVA.js";import"./chunk-54NTICX4.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{g as w}from"./chunk-OLRFWS6T.js";var R=t=>({"outline-red-500":t});function O(t,s){t&1&&(n(0,"small"),o(1," Email is required. "),e())}function W(t,s){t&1&&(n(0,"small"),o(1," Enter a valid email. "),e())}function Z(t,s){if(t&1&&(n(0,"div",29),c(1,O,2,0,"small",30)(2,W,2,0,"small",30),e()),t&2){let d,i,r=_();a(),m("ngIf",(d=r.loginForm.get("email"))==null||d.errors==null?null:d.errors.required),a(),m("ngIf",(i=r.loginForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function J(t,s){t&1&&(n(0,"small"),o(1," Password is required. "),e())}function K(t,s){t&1&&(n(0,"small"),o(1," Minimum 6 characters. "),e())}function Q(t,s){if(t&1&&(n(0,"div",29),c(1,J,2,0,"small",30)(2,K,2,0,"small",30),e()),t&2){let d,i,r=_();a(),m("ngIf",(d=r.loginForm.get("password"))==null||d.errors==null?null:d.errors.required),a(),m("ngIf",(i=r.loginForm.get("password"))==null||i.errors==null?null:i.errors.minlength)}}function U(t,s){if(t&1&&(n(0,"div",31),o(1),e()),t&2){let d=_();a(),C(" ",d.errorMsg," ")}}var ae=(()=>{let s=class s{constructor(i,r,l){this.fb=i,this.auth=r,this.router=l,this.isSubmitting=!1,this.errorMsg=null}login(){return w(this,null,function*(){try{this.errorMsg=null;let i=yield this.auth.signInWithGoogle();console.log("Logged in as",i.displayName),this.auth.navigateToDashboard()}catch(i){console.error("Login failed",i),this.errorMsg="Google login failed. Please try again."}})}ngOnInit(){this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}onSubmit(){return w(this,null,function*(){if(this.loginForm.valid)try{this.isSubmitting=!0,this.errorMsg=null;let{email:i,password:r}=this.loginForm.value,l=yield this.auth.signInWithEmail(i,r);console.log("Logged in as",l.email),this.auth.navigateToDashboard()}catch(i){console.error("Login failed",i),i.code==="auth/user-not-found"||i.code==="auth/wrong-password"?this.errorMsg="Invalid email or password.":i.code==="auth/too-many-requests"?this.errorMsg="Too many failed login attempts. Please try again later.":this.errorMsg="Login failed. Please try again."}finally{this.isSubmitting=!1}})}};s.\u0275fac=function(r){return new(r||s)(v(V),v(B),v(L))},s.\u0275cmp=E({type:s,selectors:[["app-login"]],decls:43,vars:12,consts:[[1,"bg-darkblue"],[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"text-center","text-3xl","font-bold","text-matisse-500","tracking-wider"],["data-slot","icon","fill","none","stroke-width","1.5","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","aria-hidden","true",1,"mx-auto","h-16","w-16","text-matisse-400","mt-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"],[1,"mt-6","text-center","text-2xl/9","font-bold","tracking-tight","text-white"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm/6","font-medium","text-white"],[1,"mt-2"],["type","email","id","email","formControlName","email","autocomplete","email","placeholder","you@example.com",1,"block","w-full","rounded-md","bg-matisse-950","border-matisse-900","px-3","py-1.5","text-base","text-white","outline-1","-outline-offset-1","outline-matisse-800","placeholder:text-matisse-500","focus:outline-2","focus:-outline-offset-2","focus:outline-matisse-600","sm:text-sm/6",3,"ngClass"],["class","mt-1 text-sm text-red-400",4,"ngIf"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm/6","font-medium","text-white"],[1,"text-sm"],["href","#",1,"font-semibold","text-matisse-400","hover:text-matisse-300"],["type","password","id","password","formControlName","password","autocomplete","current-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"block","w-full","rounded-md","bg-matisse-950","border-matisse-900","px-3","py-1.5","text-base","text-white","outline-1","-outline-offset-1","outline-matisse-800","placeholder:text-matisse-500","focus:outline-2","focus:-outline-offset-2","focus:outline-matisse-600","sm:text-sm/6",3,"ngClass"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-matisse-700","px-3","py-1.5","text-sm/6","font-semibold","text-white","shadow-xs","hover:bg-matisse-600","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-matisse-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["expand","block","fill","outline","color","light",1,"mt-4",2,"--color","white",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"h-5","w-5","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],["class","mt-4 text-sm text-center text-red-400",4,"ngIf"],[1,"mt-10","text-center","text-sm/6","text-matisse-500"],["routerLink","/register",1,"font-semibold","text-matisse-400","hover:text-matisse-300"],[1,"mt-1","text-sm","text-red-400"],[4,"ngIf"],[1,"mt-4","text-sm","text-center","text-red-400"]],template:function(r,l){if(r&1&&(n(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),o(4,"FireFighter"),e(),b(),n(5,"svg",4),g(6,"path",5)(7,"path",6),e(),y(),n(8,"h2",7),o(9,"Sign in to your account"),e()(),n(10,"div",8)(11,"form",9),S("ngSubmit",function(){return l.onSubmit()}),n(12,"div")(13,"label",10),o(14,"Email address"),e(),n(15,"div",11),g(16,"input",12),e(),c(17,Z,3,2,"div",13),e(),n(18,"div")(19,"div",14)(20,"label",15),o(21,"Password"),e(),n(22,"div",16)(23,"a",17),o(24,"Forgot password?"),e()()(),n(25,"div",11),g(26,"input",18),e(),c(27,Q,3,2,"div",13),e(),n(28,"div")(29,"button",19),o(30),e()(),n(31,"ion-button",20),S("click",function(){return l.login()}),b(),n(32,"svg",21),g(33,"path",22)(34,"path",23)(35,"path",24)(36,"path",25),e(),o(37," Sign in with Google "),e(),c(38,U,2,1,"div",26),e(),y(),n(39,"p",27),o(40," Not a member? "),n(41,"a",28),o(42,"Register an account"),e()()()()()),r&2){let u,f,h,x;a(11),m("formGroup",l.loginForm),a(5),m("ngClass",F(8,R,((u=l.loginForm.get("email"))==null?null:u.touched)&&((u=l.loginForm.get("email"))==null?null:u.invalid))),a(),m("ngIf",((f=l.loginForm.get("email"))==null?null:f.touched)&&((f=l.loginForm.get("email"))==null?null:f.invalid)),a(9),m("ngClass",F(10,R,((h=l.loginForm.get("password"))==null?null:h.touched)&&((h=l.loginForm.get("password"))==null?null:h.invalid))),a(),m("ngIf",((x=l.loginForm.get("password"))==null?null:x.touched)&&((x=l.loginForm.get("password"))==null?null:x.invalid)),a(2),m("disabled",l.loginForm.invalid||l.isSubmitting),a(),C(" ",l.isSubmitting?"Signing in...":"Sign in"," "),a(8),m("ngIf",l.errorMsg)}},dependencies:[k,M,I,H,j,T,N,G,D,q,z,A,P],styles:["ion-content[_ngcontent-%COMP%]{--background: #080a1c;height:100vh}"]});let t=s;return t})();export{ae as LoginPage};
